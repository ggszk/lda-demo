# 設計メモ

## 現状の課題

### パフォーマンス
- リクエストのたびにLDA分析を実行しているため、30人同時利用でタイムアウトが発生しうる
- トピック数3〜7の全パターンを毎回計算している

### データ管理
- CSVファイルがアプリに埋め込まれている
- データを差し替えるにはデプロイが必要

---

## 設計方針（検討中）

### 分析と参照の分離

```
[先生が分析実施] → 結果を保存 → [生徒が参照]
```

- **分析エンドポイント**：トピック数3〜7を一括で計算して保存する
  - 実行は先生（管理者）のみ、授業前に1回実施
  - 完了まで時間がかかってよい
- **参照エンドポイント**：保存済みの結果を返すだけ
  - 30人が同時アクセスしても軽い

### データの外部化（検討）
- CSVをアプリに埋め込まず、外部から差し替えられるようにしたい
- 授業ごとに違うデータを使えるようにしたい
- 手段はGCS（Google Cloud Storage）等を検討

---

## 未検討の課題

- 分析結果の保存先（メモリ・ファイル・DB・GCS等）
- 分析エンドポイントの認証（先生だけが実行できるようにするか）
- データ差し替えのUI・フロー
